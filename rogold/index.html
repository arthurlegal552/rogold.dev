<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rogold - O mundo dos jogos!</title>
    <link rel="icon" href="imgs/logo.png" type="image/png">
    <link rel="stylesheet" href="stylefront.css">
    <link rel="stylesheet" href="modal-styles.css">
    <script src="translations.js"></script>
    <script type="importmap">
        {
            "imports": {
                "three": "https://unpkg.com/three@0.158.0/build/three.module.js",
                "three/addons/": "https://unpkg.com/three@0.158.0/examples/jsm/"
            }
        }
    </script>
</head>
<body>
    <div class="container">
        <header>
            <img src="imgs/logo.png" alt="Rogold Logo" class="logo-img">
            <h1 class="logo">ROGOLD</h1>
            <nav>
                <ul class="menu">
                    <li><a href="#" id="home-link" class="active">Home</a></li>
                    <li><a href="#" id="games-link">Jogos</a></li>
                    <li><a href="#" id="catalog-link">Cat√°logo</a></li>
                    <li><a href="#" id="studio-link">Studio</a></li>
                    <li><a href="#" id="profile-link">Perfil</a></li>
                    <li><a href="#" id="credits-link">Cr√©ditos</a></li>
                </ul>
            </nav>
            <div class="language-selector">
                <select id="language-select">
                    <option value="pt">üáßüá∑ PT</option>
                    <option value="en">üá∫üá∏ EN</option>
                    <option value="es">üá™üá∏ ES</option>
                </select>
            </div>
        </header>

        <main>
            <div class="banner">
                <h2 data-translate="banner-title">Bem-vindo ao Rogold - O mundo dos jogos!</h2>
                <p data-translate="banner-description">Junte-se a milh√µes de jogadores e explore jogos incr√≠veis feitos pela comunidade.</p>
                <div class="alpha-banner" data-translate="alpha-banner">ALPHA RELEASE - Obrigado pelo apoio!</div>
            </div>

            <!-- Profile Section -->
            <section id="profile-section" class="hidden">
                <div class="profile-header">
                    <button class="back-button" onclick="hideProfile()" data-translate="back">‚Üê Voltar</button>
                    <div class="profile-avatar">
                        <img id="profile-avatar-img" src="" alt="" class="hidden">
                        <div id="avatar-placeholder" class="avatar-placeholder">
                            <span>?</span>
                        </div>
                    </div>
                    <div class="profile-info">
                        <h2 id="profile-username">Usu√°rio</h2>
                        <p class="profile-status" data-translate="status-offline">Status: Offline</p>
                        <p><span data-translate="member-since">Membro desde:</span> <span id="join-date">--/--/----</span></p>
                    </div>
                    <div class="profile-stats">
                        <div class="stat-item">
                            <span id="favorite-count" class="stat-number">0</span>
                            <span class="stat-label" data-translate="favorites">Favoritos</span>
                        </div>
                        <div class="stat-item">
                            <span id="profile-visits" class="stat-number">0</span>
                            <span class="stat-label" data-translate="visits">Visitas</span>
                        </div>
                        <div class="stat-item">
                            <span id="user-coins" class="stat-number coins-value">0</span>
                            <span class="stat-label" data-translate="coins-label">GoldBucks</span>
                        </div>
                    </div>
                </div>

                <div class="profile-content">
                    <div class="profile-tabs">
                        <button class="tab-button active" data-tab="about" data-translate="tab-about">Sobre</button>
                        <button class="tab-button" data-tab="games" data-translate="tab-my-games">Meus Jogos</button>
                        <button class="tab-button" data-tab="favorites" data-translate="tab-favorites">Favoritos</button>
                        <button class="tab-button" data-tab="messages" data-translate="tab-messages">Mensagens</button>
                    </div>

                    <div class="tab-content">
                        <div id="about-tab" class="tab-panel active">
                            <h3 data-translate="about-me">Sobre Mim</h3>
                            <div class="about-content">
                                <p id="profile-bio">Este usu√°rio ainda n√£o escreveu uma descri√ß√£o.</p>
                                <button class="edit-button" onclick="editProfile()" data-translate="edit-profile">Editar Perfil</button>
                            </div>
                        </div>

                        <div id="games-tab" class="tab-panel">
                            <h3 data-translate="tab-my-games">Meus Jogos</h3>
                            <div class="games-grid" id="user-games">
                                <p class="empty-message" data-translate="no-games-created">Nenhum jogo criado ainda.</p>
                            </div>
                        </div>

                        <div id="favorites-tab" class="tab-panel">
                            <h3 data-translate="no-favorites-yet">Meus Jogos Favoritos</h3>
                            <div class="games-grid" id="favorite-games-list">
                                <p class="empty-message" data-translate="no-favorites-yet">Nenhum jogo favorito ainda.</p>
                            </div>
                        </div>

                        <div id="messages-tab" class="tab-panel">
                            <h3 data-translate="tab-messages">Mensagens</h3>
                            <div class="messages-list" id="messages-container">
                                <p class="empty-message" data-translate="no-messages">Nenhuma mensagem nova.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Catalog Section -->
            <section id="catalog-section" class="hidden">
                <div class="catalog-header">
                    <button class="back-button" onclick="hideCatalog()" data-translate="catalog-back">‚Üê Voltar</button>
                    <h2 data-translate="catalog-title">Cat√°logo Rogold</h2>
                    <div class="user-roblox-account-info">
                        <img src="imgs/roglux_coins.png" alt="Coins" class="coins-icon">
                        <span id="current-catalog-coins">0</span>
                    </div>
                </div>

                <div class="catalog-content">
                    <div class="catalog-items">
                        <div class="catalog-categories">
                            <button class="category-button active" data-category="all" data-translate="all-items">Todos</button>
                            <button class="category-button" data-category="hat" data-translate="hats">Chap√©us</button>
                            <button class="category-button" data-category="face" data-translate="faces">Rostos</button>
                            <button class="category-button" data-category="gear" data-translate="gears">Ferramentas</button>
                        </div>
                        <div class="items-grid" id="catalog-items-grid">
                            <!-- Items will be rendered here by JavaScript -->
                        </div>
                    </div>
                </div>
            </section>

            <!-- Item Detail Section -->
            <section id="item-detail-section" class="hidden">
                <div class="item-detail-header">
                    <button class="back-button" onclick="hideItemDetail()" data-translate="catalog-back">‚Üê Voltar ao Cat√°logo</button>
                    <h2 id="item-detail-title"></h2>
                </div>

                <div class="item-detail-content">
                    <div class="item-detail-image">
                        <img id="item-detail-img" src="" alt="Item Image">
                    </div>
                    <div class="item-detail-info">
                        <div class="item-description" id="item-detail-description"></div>
                        <div class="item-stats">
                            <div class="stat-item">
                                <span class="stat-number" id="item-purchase-count">0</span>
                                <span class="stat-label" data-translate="purchases">Compras</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-number" id="item-detail-price">0</span>
                                <span class="stat-label" data-translate="price">GoldBucks</span>
                            </div>
                        </div>
                        <div class="item-detail-actions" id="item-detail-actions">
                            <!-- Buttons will be added here by JavaScript -->
                        </div>
                    </div>
                </div>
            </section>

            <section class="featured-games" id="featured-games">
                 <h3 data-translate="featured-games">Jogos em Destaque</h3>
                 <div class="games-categories">
                     <button class="category-button active" data-category="all" data-translate="all">Todos</button>
                     <button class="category-button" data-category="most-liked" data-translate="most-liked">Mais Curtidos</button>
                 </div>
                 <div class="games-grid" id="games-grid">
                    <!-- Published games will be added here dynamically -->
                </div>
            </section>

            <!-- Game Detail Section -->
            <section id="game-detail-section" class="hidden">
                <div class="game-detail-header">
                    <button class="back-button" onclick="hideGameDetail()" data-translate="game-back">‚Üê Voltar aos Jogos</button>
                    <h2 id="game-detail-title" data-translate="game-details">Detalhes do Jogo</h2>
                </div>

                <div class="game-detail-content">
                    <div class="game-detail-image">
                        <img id="game-detail-thumbnail" src="" alt="Game Thumbnail">
                    </div>
                    <div class="game-detail-info">
                        <div class="game-description" id="game-detail-description" data-translate="no-description">No description available.</div>
                        <div><span data-translate="created-by-label">Criado por:</span> <span id="game-detail-creator">Unknown</span></div>
                        <div><span data-translate="created-date-label">Criado em:</span> <span id="game-detail-created-date">Unknown</span></div>
                        <div><span data-translate="tools-allowed">Ferramentas permitidas:</span> <span id="game-detail-tools-allowed">Sim</span></div>
                        <div class="game-detail-actions">
                            <button class="like-button" id="game-detail-like-btn" data-translate="like">Like</button>
                            <button class="dislike-button" id="game-detail-dislike-btn" data-translate="dislike">Dislike</button>
                            <button class="play-button" id="game-detail-play-btn" data-translate="play-now">Jogar Agora</button>
                        </div>
                        <div class="game-stats">
                            <div class="stat-item">
                                <span class="stat-number" id="game-detail-likes">0</span>
                                <span class="stat-label" data-translate="likes">Curtidas</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-number" id="game-detail-dislikes">0</span>
                                <span class="stat-label" data-translate="dislikes">N√£o Curtidas</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-number" id="game-detail-playing">0</span>
                                <span class="stat-label" data-translate="playing">Jogando</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-number" id="game-detail-visits">0</span>
                                <span class="stat-label" data-translate="visits">Visitas</span>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Creation Board Section -->
            <section id="creation-board-section" class="hidden">
                <div class="creation-board-header">
                    <button class="back-button" onclick="hideCreationBoard()" data-translate="back">‚Üê Voltar</button>
                    <h2 data-translate="my-creation-studio">Meu Est√∫dio de Cria√ß√£o</h2>
                    <button class="primary-button" onclick="createNewGame()" data-translate="create-new-game">Criar Novo Jogo</button>
                </div>

                <div class="creation-board-content">
                    <div class="creation-games-grid" id="creation-games-grid">
                        <p class="empty-message" data-translate="no-games-yet">Nenhum jogo criado ainda. Clique em "Criar Novo Jogo" para come√ßar!</p>
                    </div>
                </div>
            </section>

            <!-- Remove modals and replace with inline forms -->
            <section id="login-section" class="auth-section hidden">
                <div class="auth-container">
                    <h3 data-translate="login-title">Entre na sua conta Rogold</h3>
                    <form id="login-form-inline">
                        <div class="form-group">
                            <label data-translate="username-label">Usu√°rio:</label>
                            <input type="text" id="username-inline" required>
                        </div>
                        <div class="form-group">
                            <label data-translate="password-label">Senha:</label>
                            <input type="password" id="password-inline" required>
                        </div>
                        <div class="form-actions">
                            <button type="submit" class="primary-button" data-translate="login-button">Entrar</button>
                            <button type="button" id="switch-to-register-inline" class="secondary-button" data-translate="create-account">Criar Conta</button>
                        </div>
                    </form>
                </div>
            </section>

            <section id="register-section" class="auth-section hidden">
                <div class="auth-container">
                    <h3 data-translate="register-title">Criar conta Rogold</h3>
                    <form id="register-form-inline">
                        <div class="form-group">
                            <label data-translate="username-label">Usu√°rio:</label>
                            <input type="text" id="reg-username-inline" required>
                        </div>
                        <div class="form-group">
                            <label data-translate="password-label">Senha:</label>
                            <input type="password" id="reg-password-inline" required>
                        </div>
                        <div class="form-group">
                            <label data-translate="confirm-password">Confirmar Senha:</label>
                            <input type="password" id="reg-confirm-password-inline" required>
                        </div>
                        <div class="form-actions">
                            <button type="submit" class="primary-button" data-translate="create-account">Criar Conta</button>
                            <button type="button" id="switch-to-login-inline" class="secondary-button" data-translate="already-have-account">J√° tenho conta</button>
                        </div>
                    </form>
                </div>
            </section>

            <section id="settings-section" class="auth-section hidden">
                <div class="auth-container">
                    <h3 data-translate="settings-title">Configura√ß√µes da Conta</h3>
                    <form id="settings-form-inline">
                        <div class="form-group">
                            <label data-translate="current-username">Usu√°rio Atual:</label>
                            <input type="text" id="current-username-inline" readonly>
                        </div>
                        <div class="form-group">
                            <label data-translate="new-username">Novo Usu√°rio:</label>
                            <input type="text" id="new-username-inline" data-translate-placeholder="leave-blank-keep" placeholder="Deixe vazio para manter atual">
                        </div>
                        <div class="form-group">
                            <label data-translate="current-password">Senha Atual:</label>
                            <input type="password" id="current-password-inline" required>
                        </div>
                        <div class="form-group">
                            <label data-translate="new-password">Nova Senha:</label>
                            <input type="password" id="new-password-inline" data-translate-placeholder="leave-blank-keep" placeholder="Deixe vazio para manter atual">
                        </div>
                        <div class="form-group">
                            <label data-translate="confirm-new-password">Confirmar Nova Senha:</label>
                            <input type="password" id="confirm-new-password-inline" data-translate-placeholder="leave-blank-keep" placeholder="Deixe vazio para manter atual">
                        </div>
                        <div class="form-actions">
                            <button type="submit" class="primary-button" data-translate="save-changes">Salvar Altera√ß√µes</button>
                            <button type="button" id="close-settings-inline" class="secondary-button" data-translate="cancel">Cancelar</button>
                        </div>
                    </form>
                </div>
            </section>

            <section id="profile-edit-section" class="auth-section hidden">
                <div class="auth-container">
                    <h3 data-translate="edit-profile-title">Editar Perfil</h3>
                    <form id="profile-edit-form-inline">
                        <div class="form-group">
                            <label data-translate="bio-label">Biografia:</label>
                            <textarea id="bio-input-inline" maxlength="500" rows="4" data-translate-placeholder="bio-placeholder" placeholder="Fale sobre voc√™..."></textarea>
                        </div>
                        <div class="form-group">
                            <label data-translate="status-label">Status:</label>
                            <select id="status-input-inline">
                                <option value="Online" data-translate="status-online">Online</option>
                                <option value="Offline" data-translate="status-offline">Offline</option>
                                <option value="Ocupado" data-translate="status-busy">Ocupado</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label data-translate="profile-picture">Foto de Perfil:</label>
                            <input type="file" id="profile-picture-input" accept="image/*">
                            <button type="button" id="remove-profile-picture" class="secondary-button" style="margin-top: 10px;" data-translate="remove-picture">Remover Foto</button>
                        </div>
                        <div class="form-actions">
                            <button type="submit" class="primary-button" data-translate="save">Salvar</button>
                            <button type="button" id="close-profile-edit-inline" class="secondary-button" data-translate="cancel">Cancelar</button>
                        </div>
                    </form>
                    <div class="form-actions" style="margin-top: 20px; border-top: 1px dashed #808080; padding-top: 15px;">
                        <button type="button" id="logout-button" class="secondary-button danger" data-translate="logout">Sair da Conta</button>
                    </div>
                </div>
            </section>

            <!-- Credits Section -->
            <section id="credits-section" class="hidden">
                <div class="credits-container">
                    <h2 data-translate="credits-title">Cr√©ditos</h2>
                    <div class="credits-list">
                        <div class="credit-item">
                            <h3>Main Developer</h3>
                            <p><a href="https://websim.com/@notrealcgi" target="_blank">notrealcgi</a> / <a href="https://github.com/arthurlegal552" target="_blank">arthurlegal552</a></p>
                        </div>
                        <div class="credit-item">
                            <h3>Graphic Designer</h3>
                            <p><a href="https://websim.com/@styron" target="_blank">styron</a> <span style="color: #808080; font-size: 12px;">go follow him hes a cool guy!</span></p>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <footer>
            <div class="footer-links">
                <a href="#" data-translate="help">Ajuda</a>
                <a href="#" data-translate="terms">Termos de Uso</a>
                <a href="#" data-translate="contact">Contato</a>
            </div>
            <p data-translate="copyright">&copy; 2006 Rogold. Todos os direitos reservados.</p>
        </footer>
    </div>

    <!-- Custom Modal for Translated Dialogs -->
    <div id="rogold-modal" class="modal-overlay hidden">
        <div class="modal">
            <div class="modal-header">
                <h3 id="rogold-modal-title">Rogold</h3>
            </div>
            <div class="modal-body" id="rogold-modal-body">
                <!-- Message will be inserted here -->
            </div>
            <div class="modal-footer" id="rogold-modal-footer">
                <!-- Buttons will be inserted here -->
            </div>
        </div>
    </div>

    <!-- Link to external JavaScript file -->
    <script type="module" src="index.js"></script>
    <script>
        // Buy functionality
        document.addEventListener('DOMContentLoaded', () => {
            const buyButtons = document.querySelectorAll('.buy-button');
            buyButtons.forEach(button => {
                button.addEventListener('click', (e) => {
                    const item = e.target.dataset.item;
                    if (item === 'default-face') {
                        localStorage.setItem('rogold_equipped_face', 'default');
                        alert('Default Face equipped!');
                    } else if (item === 'epic-face') {
                        // Check coins
                        const coins = parseInt(localStorage.getItem('rogold_coins') || '0');
                        if (coins >= 100) {
                            localStorage.setItem('rogold_coins', coins - 100);
                            localStorage.setItem('rogold_equipped_face', 'epic');
                            alert('Epic Face bought and equipped!');
                            // Update coins display
                            document.getElementById('current-catalog-coins').textContent = coins - 100;
                            document.getElementById('user-coins').textContent = coins - 100;
                        } else {
                            alert('Not enough coins! You have ' + coins + ' coins.');
                        }
                    }
                });
            });
        });

        // Navigation
        document.addEventListener('DOMContentLoaded', () => {
            const links = document.querySelectorAll('nav ul li a');
            links.forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    document.querySelectorAll('nav ul li a').forEach(l => l.classList.remove('active'));
                    link.classList.add('active');
                    const id = link.id.replace('-link', '-section');
                    const targetSection = document.getElementById(id);
                    if (!targetSection) return; // Section doesn't exist on this page
                    document.querySelectorAll('main > section').forEach(section => {
                        section.classList.add('hidden');
                    });
                    targetSection.classList.remove('hidden');

                    // If catalog, add category listeners
                    if (id === 'catalog-section') {
                        const categoryButtons = document.querySelectorAll('.category-button');
                        categoryButtons.forEach(btn => {
                            btn.addEventListener('click', () => {
                                categoryButtons.forEach(b => b.classList.remove('active'));
                                btn.classList.add('active');
                                // No filtering needed since all items are faces
                            });
                        });
                    }
                    });

        });

        });
    </script>
</body>
</html>